import{a as j,r as i,j as t,L as e}from"./index-D0UK4MyN.js";import{s as u,v as N,e as y}from"./api-Ch0e_-9b.js";function b(){const{creditBalance:n}=j(),[a,d]=i.useState([]),[c,o]=i.useState([]),[l,m]=i.useState([]),[h,r]=i.useState(!0);i.useEffect(()=>{x()},[]);const x=async()=>{try{r(!0);const[s,p,v]=await Promise.all([u.list({limit:5}),N.list({limit:5}),y.list({limit:5})]);d(s.scripts||[]),o(p.videos||[]),m(v.exports||[])}catch(s){console.error("Failed to load dashboard:",s)}finally{r(!1)}};return h?t.jsx("div",{className:"ttv-page",children:t.jsx("div",{className:"ttv-loading",children:t.jsx("div",{className:"ttv-spinner"})})}):t.jsxs("div",{className:"ttv-page",children:[t.jsxs("div",{className:"ttv-page-header",children:[t.jsx("h1",{className:"ttv-page-title",children:"Dashboard"}),t.jsx("p",{className:"ttv-page-subtitle",children:"Welcome to TeleprompTV"})]}),t.jsxs("div",{className:"ttv-card",children:[t.jsx("h2",{className:"ttv-card-title",children:"Quick Actions"}),t.jsxs("div",{className:"ttv-grid",children:[t.jsxs(e,{to:"/ttv/scripts/new",className:"ttv-quick-action",children:[t.jsx("span",{className:"ttv-quick-icon",children:"ðŸ“"}),t.jsx("h3",{children:"New Script"}),t.jsx("p",{children:"Create a new teleprompt script"})]}),t.jsxs(e,{to:"/ttv/film",className:"ttv-quick-action",children:[t.jsx("span",{className:"ttv-quick-icon",children:"ðŸŽ¥"}),t.jsx("h3",{children:"Film Script"}),t.jsx("p",{children:"Record a video with teleprompter"})]}),t.jsxs(e,{to:"/ttv/videos",className:"ttv-quick-action",children:[t.jsx("span",{className:"ttv-quick-icon",children:"â¬†ï¸"}),t.jsx("h3",{children:"Upload Video"}),t.jsx("p",{children:"Upload and transcribe videos"})]}),t.jsxs(e,{to:"/ttv/credits",className:"ttv-quick-action",children:[t.jsx("span",{className:"ttv-quick-icon",children:"ðŸ’³"}),t.jsx("h3",{children:"Buy Credits"}),t.jsxs("p",{children:[n," credits available"]})]})]})]}),t.jsxs("div",{className:"ttv-card",children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[t.jsx("h2",{className:"ttv-card-title",style:{margin:0},children:"Recent Scripts"}),t.jsx(e,{to:"/ttv/scripts",className:"ttv-button ttv-button-secondary",children:"View All"})]}),a.length===0?t.jsxs("div",{className:"ttv-empty-state",children:[t.jsx("div",{className:"ttv-empty-icon",children:"ðŸ“"}),t.jsx("p",{className:"ttv-empty-title",children:"No scripts yet"}),t.jsx("p",{className:"ttv-empty-description",children:"Create your first script to get started"}),t.jsx(e,{to:"/ttv/scripts/new",className:"ttv-button",children:"Create Script"})]}):t.jsx("ul",{className:"ttv-list",children:a.map(s=>t.jsx("li",{className:"ttv-list-item",children:t.jsxs(e,{to:`/ttv/scripts/${s.id}`,style:{textDecoration:"none",color:"inherit"},children:[t.jsx("h3",{style:{margin:"0 0 8px",color:"#F1F5F9"},children:s.title}),t.jsxs("div",{style:{fontSize:"14px",color:"#94A3B8"},children:[s.script_type," â€¢ ",new Date(s.created_at).toLocaleDateString()]})]})},s.id))})]}),t.jsxs("div",{className:"ttv-card",children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[t.jsx("h2",{className:"ttv-card-title",style:{margin:0},children:"Recent Videos"}),t.jsx(e,{to:"/ttv/videos",className:"ttv-button ttv-button-secondary",children:"View All"})]}),c.length===0?t.jsxs("div",{className:"ttv-empty-state",children:[t.jsx("div",{className:"ttv-empty-icon",children:"ðŸŽ¬"}),t.jsx("p",{className:"ttv-empty-title",children:"No videos yet"}),t.jsx("p",{className:"ttv-empty-description",children:"Upload or record your first video"})]}):t.jsx("ul",{className:"ttv-list",children:c.map(s=>t.jsxs("li",{className:"ttv-list-item",children:[t.jsx("h3",{style:{margin:"0 0 8px",color:"#F1F5F9"},children:s.title}),t.jsxs("div",{style:{fontSize:"14px",color:"#94A3B8"},children:[s.duration_seconds?`${Math.round(s.duration_seconds)}s`:"Duration unknown"," â€¢"," ",new Date(s.created_at).toLocaleDateString()]})]},s.id))})]}),l.length>0&&t.jsxs("div",{className:"ttv-card",children:[t.jsx("h2",{className:"ttv-card-title",children:"Recent Exports"}),t.jsx("ul",{className:"ttv-list",children:l.map(s=>t.jsx("li",{className:"ttv-list-item",children:t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsxs("div",{children:[t.jsxs("h3",{style:{margin:"0 0 8px",color:"#F1F5F9"},children:["Export #",s.id.slice(0,8)]}),t.jsxs("div",{style:{fontSize:"14px",color:"#94A3B8"},children:[s.resolution," â€¢ ",s.export_status]})]}),s.export_status==="complete"&&t.jsx(e,{to:`/ttv/exports/${s.id}`,className:"ttv-button",children:"Download"})]})},s.id))})]})]})}export{b as default};
