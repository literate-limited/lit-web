import{j as t,L as d,N as v,r as o,u as h,O as x}from"./index-D0UK4MyN.js";import{c as u}from"./api-Ch0e_-9b.js";function m({creditBalance:s,onToggleSidebar:a,onLogout:e}){return t.jsxs("header",{className:"ttv-header",children:[t.jsxs("div",{className:"ttv-header-left",children:[t.jsx("button",{className:"ttv-menu-toggle",onClick:a,children:t.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:t.jsx("path",{d:"M3 12h18M3 6h18M3 18h18",strokeWidth:"2",strokeLinecap:"round"})})}),t.jsxs(d,{to:"/ttv",className:"ttv-logo",children:[t.jsx("span",{className:"ttv-logo-icon",children:"ðŸ“¹"}),t.jsx("span",{className:"ttv-logo-text",children:"TeleprompTV"})]})]}),t.jsxs("div",{className:"ttv-header-right",children:[s!==null&&t.jsxs("div",{className:"ttv-credit-badge",children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:t.jsx("circle",{cx:"12",cy:"12",r:"10"})}),t.jsxs("span",{children:[s," credits"]})]}),t.jsx("button",{className:"ttv-user-menu",onClick:e,children:"Logout"})]})]})}function j({isOpen:s}){const a=[{to:"/ttv",label:"Dashboard",icon:"ðŸ ",exact:!0},{to:"/ttv/scripts",label:"Scripts",icon:"ðŸ“"},{to:"/ttv/videos",label:"Videos",icon:"ðŸŽ¬"},{to:"/ttv/film",label:"Film Script",icon:"ðŸŽ¥"},{to:"/ttv/exports",label:"Exports",icon:"â¬‡ï¸"},{to:"/ttv/analytics",label:"Analytics",icon:"ðŸ“Š"},{to:"/ttv/credits",label:"Credits",icon:"ðŸ’³"}];return t.jsx("aside",{className:`ttv-sidebar ${s?"open":"closed"}`,children:t.jsx("nav",{className:"ttv-nav",children:a.map(e=>t.jsxs(v,{to:e.to,end:e.exact,className:({isActive:n})=>`ttv-nav-item ${n?"active":""}`,children:[t.jsx("span",{className:"ttv-nav-icon",children:e.icon}),s&&t.jsx("span",{className:"ttv-nav-label",children:e.label})]},e.to))})})}function g(){const[s,a]=o.useState(null),[e,n]=o.useState(!0),r=h();o.useEffect(()=>{c()},[]);const c=async()=>{try{const l=await u.getBalance();a(l.balance)}catch(l){console.error("Failed to load credits:",l)}},i=()=>{localStorage.removeItem("token"),r("/login")};return t.jsxs("div",{className:"ttv-layout",children:[t.jsx(m,{creditBalance:s,onToggleSidebar:()=>n(!e),onLogout:i}),t.jsxs("div",{className:"ttv-content-wrapper",children:[t.jsx(j,{isOpen:e}),t.jsx("main",{className:`ttv-main ${e?"sidebar-open":"sidebar-closed"}`,children:t.jsx(x,{context:{creditBalance:s,refreshCredits:c}})})]})]})}export{g as default};
