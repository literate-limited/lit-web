import{r as u,j as e}from"./index-D0UK4MyN.js";import{q as se,r as ae}from"./index-DpCu-vl3.js";import{T as te,a as le}from"./index-ov5DlZln.js";const ne=(t,p,o)=>Math.min(o,Math.max(p,t)),re=({frequency:t,amplitude:p,phase:o,speed:d,polarization:l})=>{const x=u.useRef(null),h=u.useRef(null),M=u.useRef({frequency:t,amplitude:p,phase:o,speed:d,polarization:l}),k=u.useRef({width:0,height:0});u.useEffect(()=>{M.current={frequency:t,amplitude:p,phase:o,speed:d,polarization:l}},[t,p,o,d,l]),u.useEffect(()=>{const s=x.current,C=s.getContext("2d"),a=window.devicePixelRatio||1,r=()=>{if(!h.current)return;const m=h.current.getBoundingClientRect();k.current={width:m.width,height:m.height},s.width=m.width*a,s.height=m.height*a,C.setTransform(a,0,0,a,0,0)};r();const S=new ResizeObserver(r);S.observe(h.current);let b;const P=m=>{A(C,m),b=requestAnimationFrame(P)};return b=requestAnimationFrame(P),()=>{cancelAnimationFrame(b),S.disconnect()}},[]);const A=(s,C)=>{const{width:a,height:r}=k.current;if(!a||!r)return;const{frequency:S,amplitude:b,phase:P,speed:m,polarization:X}=M.current,y=C*.001,E=ne((S-380)/370,0,1),D=1.4+E*5.2,T=Math.PI*2*D/a,R=(2.4+E*3)*m,g=Math.min(r*.22,140)*b,_=P*Math.PI/180,F=X*Math.PI/180,i=r/2,c=Math.min(54+E*6,r*.18);s.clearRect(0,0,a,r);const q=s.createLinearGradient(0,0,a,r);q.addColorStop(0,"rgba(6,12,26,0.95)"),q.addColorStop(.5,"rgba(7,16,35,0.9)"),q.addColorStop(1,"rgba(4,10,24,0.95)"),s.fillStyle=q,s.fillRect(0,0,a,r);const z=s.createLinearGradient(0,i,a,i);z.addColorStop(0,"rgba(34,211,238,0.06)"),z.addColorStop(.5,"rgba(14,165,233,0.18)"),z.addColorStop(1,"rgba(168,85,247,0.12)"),s.fillStyle=z,s.fillRect(0,i-g-c-16,a,g*2+c*2+32),s.strokeStyle="rgba(148,163,184,0.07)",s.lineWidth=1;const j=Math.max(48,a/14);for(let n=-j;n<a+j;n+=j)s.beginPath(),s.moveTo(n,0),s.lineTo(n,r),s.stroke();for(let n=-j;n<r+j;n+=j)s.beginPath(),s.moveTo(0,n),s.lineTo(a,n),s.stroke();s.strokeStyle="rgba(226,232,240,0.18)",s.lineWidth=1.4,s.beginPath(),s.moveTo(0,i-c),s.lineTo(a,i-c),s.moveTo(0,i+c),s.lineTo(a,i+c),s.stroke();const I=({baseY:n,amplitude:f,color:w,glow:V,phaseOffset:Q=0,thickness:U=3,usePolarization:$=!1})=>{s.beginPath(),s.lineWidth=U,s.strokeStyle=w,s.shadowColor=V,s.shadowBlur=14;const O=Math.max(2,Math.floor(a/260));for(let v=0;v<=a+O;v+=O){const Z=T*v-R*y+Q,ee=$?Math.sin(Z)*Math.cos(F):Math.sin(Z),J=n-ee*f;v===0?s.moveTo(v,J):s.lineTo(v,J)}s.stroke(),s.shadowBlur=0};I({baseY:i-c,amplitude:g,color:"rgba(94,234,212,0.95)",glow:"rgba(94,234,212,0.4)",thickness:3.2,usePolarization:!0}),s.beginPath(),s.strokeStyle="rgba(34,211,238,0.25)",s.lineWidth=1.3;const L=Math.max(3,Math.floor(a/200));for(let n=0;n<=a+L;n+=L){const f=T*n-R*y+F,w=i-c-Math.sin(f)*g*Math.sin(F)*.45;n===0?s.moveTo(n,w):s.lineTo(n,w)}s.stroke(),I({baseY:i+c,amplitude:g*.55,color:"rgba(129,140,248,0.9)",glow:"rgba(129,140,248,0.45)",phaseOffset:_,thickness:2.6});const B=(y*120*m%a+a)%a,K=T*B-R*y,G=i-c-Math.sin(K)*g*Math.cos(F)*.9,Y=8+b*4+E*2,W=s.createRadialGradient(B,G,0,B,G,Y*3);W.addColorStop(0,"rgba(255,255,255,0.9)"),W.addColorStop(.35,"rgba(94,234,212,0.85)"),W.addColorStop(1,"rgba(94,234,212,0)"),s.fillStyle=W,s.beginPath(),s.arc(B,G,Y,0,Math.PI*2),s.fill();const H=18;s.lineWidth=1.2;for(let n=0;n<H;n+=1){const f=n/H*a,w=T*f-R*y+_,V=i+c-Math.sin(w)*g*.55;s.strokeStyle="rgba(129,140,248,0.5)",s.beginPath(),s.moveTo(f,V-6),s.lineTo(f,V+6),s.stroke()}};return e.jsxs("div",{ref:h,className:"relative h-full w-full overflow-hidden rounded-3xl border border-slate-800/70 bg-[#050c1a] shadow-[0_25px_70px_rgba(0,0,0,0.35)]",children:[e.jsx("canvas",{ref:x,className:"h-full w-full"}),e.jsxs("div",{className:"pointer-events-none absolute left-4 top-4 rounded-2xl border border-cyan-400/30 bg-slate-900/70 px-4 py-3 text-xs text-slate-100 shadow-lg shadow-cyan-500/10 backdrop-blur",children:[e.jsx("p",{className:"text-[10px] uppercase tracking-[0.3em] text-cyan-200",children:"Propagating wave"}),e.jsx("p",{className:"mathmadness-mono text-sm text-slate-100",children:"E âŸ‚ B âŸ‚ direction Â· sliders drive the beam live"})]}),e.jsxs("div",{className:"pointer-events-none absolute right-4 top-4 flex flex-wrap gap-3 text-[11px] text-slate-200",children:[e.jsxs("span",{className:"flex items-center gap-2 rounded-full bg-slate-900/80 px-3 py-1 shadow-inner shadow-cyan-500/10 ring-1 ring-cyan-400/30",children:[e.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-cyan-300"}),"E field"]}),e.jsxs("span",{className:"flex items-center gap-2 rounded-full bg-slate-900/80 px-3 py-1 shadow-inner shadow-indigo-500/10 ring-1 ring-indigo-400/30",children:[e.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-indigo-300"}),"B field"]}),e.jsxs("span",{className:"flex items-center gap-2 rounded-full bg-slate-900/80 px-3 py-1 shadow-inner shadow-amber-500/10 ring-1 ring-amber-400/30",children:[e.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-amber-300"}),"Phase & polarization cues"]})]})]})},ie=[{title:"Gauss (electric)",expression:"âˆ‡ Â· E = Ï / Îµâ‚€",description:"Charge sources electric flux; sliders sculpt its amplitude."},{title:"Gauss (magnetic)",expression:"âˆ‡ Â· B = 0",description:"No magnetic monopoles, so B field lines loop and stay divergence-free."},{title:"Faraday induction",expression:"âˆ‡ Ã— E = -âˆ‚B/âˆ‚t",description:"A changing B twists E; nudging phase shows the handoff."},{title:"AmpÃ¨reâ€“Maxwell",expression:"âˆ‡ Ã— B = Î¼â‚€J + Î¼â‚€Îµâ‚€ âˆ‚E/âˆ‚t",description:"Currents and changing E curl B, making the traveling beam possible."}],N=({label:t,value:p,min:o,max:d,step:l,unit:x,accent:h,description:M,formatValue:k=s=>s,onChange:A})=>e.jsxs("label",{className:"block rounded-xl border border-slate-800/70 bg-slate-900/60 px-4 py-3 shadow-inner shadow-cyan-500/10",children:[e.jsxs("div",{className:"flex items-center justify-between text-[11px] uppercase tracking-[0.25em] text-slate-400",children:[e.jsx("span",{children:t}),e.jsxs("span",{className:"text-sm font-semibold text-slate-100 tracking-normal",children:[k(p)," ",x]})]}),e.jsx("input",{type:"range",min:o,max:d,step:l,value:p,onChange:s=>A(Number(s.target.value)),className:"mt-3 h-2 w-full cursor-pointer accent-cyan-400",style:{accentColor:h},"aria-label":t}),e.jsx("p",{className:"mt-2 text-xs text-slate-500",children:M})]}),pe=()=>{const[t,p]=u.useState({frequency:520,amplitude:1,phase:0,speed:1,polarization:30}),o=u.useMemo(()=>{const l=Math.round(299792.458/t.frequency*10)/10,x=(.004135667696*t.frequency).toFixed(2),h=(1e3/t.frequency).toFixed(2);return{wavelengthNm:l,photonEnergyEv:x,periodFs:h}},[t.frequency]),d=l=>x=>p(h=>({...h,[l]:x}));return e.jsxs("div",{className:"flex h-[calc(100vh-4rem)] min-h-[720px] flex-col gap-4 overflow-hidden rounded-l-3xl xl:flex-row",children:[e.jsxs("div",{className:"w-full max-w-xl shrink-0 space-y-5 border-b border-slate-800/70 bg-[#0d1428]/85 px-6 py-6 backdrop-blur-xl xl:h-full xl:border-b-0 xl:border-r",children:[e.jsxs("div",{className:"flex items-center gap-3 text-slate-100",children:[e.jsx("div",{className:"flex h-11 w-11 items-center justify-center rounded-2xl bg-gradient-to-br from-cyan-500/20 via-emerald-400/20 to-indigo-500/25 text-cyan-200 shadow-inner shadow-cyan-500/15 ring-1 ring-cyan-400/30",children:e.jsx(te,{size:20})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[11px] uppercase tracking-[0.35em] text-cyan-300/80",children:"LitðŸ”¥ Functions"}),e.jsx("p",{className:"text-lg font-semibold",children:"Maxwell's Equations"})]})]}),e.jsx("p",{className:"text-sm text-slate-300",children:"Make a light beam obey the four Maxwell laws. Tune the electric field (E), magnetic field (B), and their phase relationship; the canvas responds in real time."}),e.jsx("div",{className:"grid gap-3",children:ie.map(l=>e.jsxs("div",{className:"rounded-2xl border border-slate-800/80 bg-slate-900/60 p-4 shadow-[0_10px_40px_rgba(0,0,0,0.35)]",children:[e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsx("p",{className:"text-sm font-semibold text-slate-50",children:l.title}),e.jsx("span",{className:"rounded-full bg-slate-800/80 px-3 py-1 text-[11px] text-cyan-200 ring-1 ring-cyan-400/30",children:l.expression})]}),e.jsx("p",{className:"mt-2 text-xs text-slate-400",children:l.description})]},l.title))}),e.jsxs("div",{className:"rounded-2xl border border-slate-800/80 bg-slate-900/70 p-4 shadow-inner shadow-cyan-500/10",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm font-semibold text-slate-100",children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(se,{className:"text-amber-300"}),"Wave readouts"]}),e.jsx("span",{className:"text-[11px] uppercase tracking-[0.3em] text-slate-400",children:"Live"})]}),e.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-3 text-sm text-slate-200",children:[e.jsxs("div",{className:"rounded-xl bg-slate-800/60 px-3 py-2",children:[e.jsx("p",{className:"text-[11px] uppercase tracking-[0.2em] text-slate-400",children:"Frequency"}),e.jsxs("p",{className:"text-lg font-semibold",children:[Math.round(t.frequency)," THz"]}),e.jsx("p",{className:"text-[11px] text-slate-500",children:"Visible band sweep"})]}),e.jsxs("div",{className:"rounded-xl bg-slate-800/60 px-3 py-2",children:[e.jsx("p",{className:"text-[11px] uppercase tracking-[0.2em] text-slate-400",children:"Wavelength"}),e.jsxs("p",{className:"text-lg font-semibold",children:[o.wavelengthNm," nm"]}),e.jsx("p",{className:"text-[11px] text-slate-500",children:"c / f"})]}),e.jsxs("div",{className:"rounded-xl bg-slate-800/60 px-3 py-2",children:[e.jsx("p",{className:"text-[11px] uppercase tracking-[0.2em] text-slate-400",children:"Photon energy"}),e.jsxs("p",{className:"text-lg font-semibold",children:[o.photonEnergyEv," eV"]}),e.jsx("p",{className:"text-[11px] text-slate-500",children:"h Â· f"})]}),e.jsxs("div",{className:"rounded-xl bg-slate-800/60 px-3 py-2",children:[e.jsx("p",{className:"text-[11px] uppercase tracking-[0.2em] text-slate-400",children:"Period"}),e.jsxs("p",{className:"text-lg font-semibold",children:[o.periodFs," fs"]}),e.jsx("p",{className:"text-[11px] text-slate-500",children:"1 / f"})]})]})]})]}),e.jsx("div",{className:"relative flex-1 px-4 py-4",children:e.jsxs("div",{className:"flex h-full flex-col gap-4",children:[e.jsx("div",{className:"flex-1 min-h-[360px]",children:e.jsx(re,{frequency:t.frequency,amplitude:t.amplitude,phase:t.phase,speed:t.speed,polarization:t.polarization})}),e.jsxs("div",{className:"rounded-2xl border border-slate-800/80 bg-slate-900/70 px-4 py-4 shadow-inner shadow-cyan-500/10",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold text-slate-100",children:[e.jsx(le,{className:"text-emerald-300"}),"Field controls"]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs uppercase tracking-[0.25em] text-slate-400",children:[e.jsx(ae,{className:"text-cyan-300"}),"Light lab"]})]}),e.jsxs("div",{className:"mt-3 grid gap-3 md:grid-cols-2 xl:grid-cols-3",children:[e.jsx(N,{label:"Frequency",value:t.frequency,min:380,max:750,step:5,unit:"THz",accent:"#f59e0b",description:"Slide across the visible spectrum; higher f shortens wavelength.",formatValue:l=>Math.round(l),onChange:d("frequency")}),e.jsx(N,{label:"Amplitude",value:t.amplitude,min:.45,max:1.5,step:.05,unit:"Eâ‚€",accent:"#34d399",description:"Sets E-field magnitude; B scales with it through c.",formatValue:l=>l.toFixed(2),onChange:d("amplitude")}),e.jsx(N,{label:"Phase offset (E vs B)",value:t.phase,min:0,max:180,step:5,unit:"deg",accent:"#a855f7",description:"Zero means in-phase; offset shows how curls lead/lag.",formatValue:l=>Math.round(l),onChange:d("phase")}),e.jsx(N,{label:"Polarization twist",value:t.polarization,min:0,max:90,step:5,unit:"deg",accent:"#ec4899",description:"0Â° keeps E linear; 90Â° approaches circular polarization.",formatValue:l=>Math.round(l),onChange:d("polarization")}),e.jsx(N,{label:"Propagation speed",value:t.speed,min:.6,max:1.4,step:.05,unit:"Ã— c",accent:"#22d3ee",description:"Scales how fast the wave sweeps; c stays the anchor.",formatValue:l=>l.toFixed(2),onChange:d("speed")})]})]})]})})]})};export{pe as default};
